{"version":3,"file":"commonHelpers.js","sources":["../src/main.js"],"sourcesContent":["import iziToast from \"izitoast\";\nimport \"izitoast/dist/css/iziToast.min.css\";\nimport SimpleLightbox from \"simplelightbox\";\nimport \"simplelightbox/dist/simple-lightbox.min.css\";\n\niziToast.settings({\n    close: false,\n    closeOnClick: true,\n    message:'Sorry, there are no images matching your search query. Please try again!',\n    messageColor: 'white',\n    timeout: 3000,\n    transitionIn: 'flipInX',\n    transitionOut: 'flipOutX',\n    position: 'topRight',\n    backgroundColor: 'red',\n    progressBar: false,\n  });\n\n\nconst loader = document.querySelector('.loader')\nconst input = document.querySelector(\".search-input\")\nconst form = document.querySelector(\".form\")\nconst gallery = document.querySelector('#gallery')\nlet lightbox = new SimpleLightbox('.gallery a', { showCounter: false });\nconst URL = \"https://pixabay.com/api/\"\n\nform.addEventListener('submit',fetchImages)\n\n\n\nfunction fetchImages(event) {\n    gallery.innerHTML = \"\";\n    loader.classList.remove('is-hidden');\n    event.preventDefault();\n    const searchParams = new URLSearchParams({\n        key: \"41936359-935dea1b7e7e76694a23c8d00\",\n        q: input.value,\n        image_type: 'photo',\n        orientation: 'horizontal',\n        safesearch: 'safesearch'\n    });\n    \n    fetch (`${URL}?${searchParams}`)\n    .then(response => {\n        if (!response.ok) {\n          throw new Error(response.status);\n        }\n        return response.json();\n      })\n    .then (data => {setTimeout(() => {\n        loader.classList.add('is-hidden')\n        if (data.hits.length === 0) {\n        return iziToast.show();} \n      renderImages(data.hits);},1000 )})\n    .catch(error => {\n            console.log(error);\n      })\n      .finally(() => {\n        form.reset();\n      });\n}\n\nfunction renderImages(images) {\n    gallery.innerHTML= images.reduce (\n        (\n           html, {largeImageURL,webformatURL,tags,likes,views,comments,downloads}  \n        ) => html + `      <li class=\"gallery-item\">\n        <a href=\"${largeImageURL}\">\n          <img src=\"${webformatURL}\" alt=\"${tags}\" />\n        </a>\n        <div class=\"image-desc\">\n          <div class=\"image-desc-item\">\n            <div class=\"image-desc-label\">Likes</div>\n            <div>${likes}</div>\n          </div>\n          <div class=\"image-desc-item\">\n             <div class=\"image-desc-label\">Views</div>\n             <div>${views}</div>\n          </div>\n          <div class=\"image-desc-item\">\n            <div class=\"image-desc-label\">Comments</div>\n            <div>${comments}</div>\n          </div>\n          <div class=\"image-desc-item\">\n            <div class=\"image-desc-label\">Downloads</div>\n            <div>${downloads}</div>\n          </div>\n        </div>\n      </li>`, \"\"\n    ); lightbox.refresh();\n}\n\n\n\n\n\n  \n  \n  \n\n\n\n"],"names":["iziToast","loader","input","form","gallery","lightbox","SimpleLightbox","URL","fetchImages","event","searchParams","response","data","renderImages","error","images","html","largeImageURL","webformatURL","tags","likes","views","comments","downloads"],"mappings":"6vBAKAA,EAAS,SAAS,CACd,MAAO,GACP,aAAc,GACd,QAAQ,2EACR,aAAc,QACd,QAAS,IACT,aAAc,UACd,cAAe,WACf,SAAU,WACV,gBAAiB,MACjB,YAAa,EACjB,CAAG,EAGH,MAAMC,EAAS,SAAS,cAAc,SAAS,EACzCC,EAAQ,SAAS,cAAc,eAAe,EAC9CC,EAAO,SAAS,cAAc,OAAO,EACrCC,EAAU,SAAS,cAAc,UAAU,EACjD,IAAIC,EAAW,IAAIC,EAAe,aAAc,CAAE,YAAa,EAAK,CAAE,EACtE,MAAMC,EAAM,2BAEZJ,EAAK,iBAAiB,SAASK,CAAW,EAI1C,SAASA,EAAYC,EAAO,CACxBL,EAAQ,UAAY,GACpBH,EAAO,UAAU,OAAO,WAAW,EACnCQ,EAAM,eAAc,EACpB,MAAMC,EAAe,IAAI,gBAAgB,CACrC,IAAK,qCACL,EAAGR,EAAM,MACT,WAAY,QACZ,YAAa,aACb,WAAY,YACpB,CAAK,EAED,MAAO,GAAGK,KAAOG,GAAc,EAC9B,KAAKC,GAAY,CACd,GAAI,CAACA,EAAS,GACZ,MAAM,IAAI,MAAMA,EAAS,MAAM,EAEjC,OAAOA,EAAS,MACxB,CAAO,EACF,KAAMC,GAAQ,CAAC,WAAW,IAAM,CAE7B,GADAX,EAAO,UAAU,IAAI,WAAW,EAC5BW,EAAK,KAAK,SAAW,EACzB,OAAOZ,EAAS,KAAI,EACtBa,EAAaD,EAAK,IAAI,CAAE,EAAE,GAAM,CAAA,CAAC,EAClC,MAAME,GAAS,CACR,QAAQ,IAAIA,CAAK,CAC7B,CAAO,EACA,QAAQ,IAAM,CACbX,EAAK,MAAK,CAClB,CAAO,CACP,CAEA,SAASU,EAAaE,EAAQ,CAC1BX,EAAQ,UAAWW,EAAO,OACtB,CACGC,EAAM,CAAC,cAAAC,EAAc,aAAAC,EAAa,KAAAC,EAAK,MAAAC,EAAM,MAAAC,EAAM,SAAAC,EAAS,UAAAC,CAAS,IACnEP,EAAO;AAAA,mBACDC;AAAA,sBACGC,WAAsBC;AAAA;AAAA;AAAA;AAAA;AAAA,mBAKzBC;AAAA;AAAA;AAAA;AAAA,oBAICC;AAAA;AAAA;AAAA;AAAA,mBAIDC;AAAA;AAAA;AAAA;AAAA,mBAIAC;AAAA;AAAA;AAAA,aAGL,EACd,EAAOlB,EAAS,SAChB"}